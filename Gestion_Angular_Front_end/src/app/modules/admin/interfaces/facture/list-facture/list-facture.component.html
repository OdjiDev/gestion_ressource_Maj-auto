<!--
  </div>
  <div class="card-body">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Numero</th>
          <th>Fournisseur</th>
          <th>Code</th>
          <th>Produit</th>
          <th>Quantite</th>
          <th>Total</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let facture of factureDto">
          <td>{{ factureDto.code}}</td>
          <td>{{ factureDto.fournisseurDto.nom}}</td>
          <td>{{ factureDto.code}}</td>
          <td>{{ factureDto.lignefactureDto.quantite}}</td>
         <td>{{ factureDto.datecommande}}</td>

          <td>
            <button class="btn btn-info" (click)="updateFacture(factureDto.id)">
              Update
            </button>
            <button class="btn btn-danger" style="margin-left: 10px" (click)="deleteFacture(factureDto.id)">
              Delete
            </button>
            <button class="btn btn-primary" style="margin-left: 10px" (click)="factureDetails(factureDto.id)">
              View
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
    <form [formGroup]="formFacture" (ngSubmit)="submitForm()">
      <div class="row">
          <h5 class="card-header text-center p-2 bg-light">Formulaire de creation de facture</h5>
      <div class="form-group col-3">
          <label for="numero">Numero Facture</label>
          <input type="text" min="1" class="form-control" id="numero" [(ngModel)]="factureDto.numero"
              formControlName="numero">
          <app-field-error-display [displayError]="isFieldFactureValid('numero')"
              errorMsg="Veuillez renseigner la numero du produit">
          </app-field-error-display>
      </div>
      <div class="form-group col-3">
          <label for="fournisseur">Selectionner fournisseur</label>
          <select [(ngModel)]="fournisseurDtos" id="fournisseur" class="form-control" formControlName="fournisseurDto">
              <option *ngFor="let fournisseur of fournisseurDtos" [value]="fournisseur">{{ fournisseur.nom }}</option>
          </select>
          <app-field-error-display [displayError]="isFieldFactureValid('fournisseurDto')"
              errorMsg="Veuillez renseigner la fournisseurDto du produit">
          </app-field-error-display>
      </div>
      <div class="col-6 d-flex justify-content-center align-items-centers" *ngIf="ligneFactureDtos.length>0">
          <div class=" col-3">
              <h4 class="text-center text-success">
                  Total: {{(montant==0)?'':(montant).toLocaleString('fr-FR')}} FCFA
              </h4>
          </div>
          <button class="btn btn-warning col-3" [disabled]="!formFacture.valid">
              <i class="fa fa-save">
                  Enregistrer la facture
              </i>
          </button>
      </div>
      </div>
  </form>
  <form [formGroup]="formLigneFacture" (ngSubmit)="ajouterLigneFacture()">
      <div class="row mt-2">
          <div class="col-8">
              <table class="table">
                  <thead>
                      <tr>
                          <th>#</th>
                          <th>Libelle</th>
                          <th>Qte</th>
                          <th>Prix Unitaire</th>
                          <th>Montant</th>
                          <th>Actions</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let ligne of ligneFactureDtos; let i = index">
                          <td class="text-center">{{ i+1 }}</td>
                          <td>{{ ligne.produitDto.nom }}</td>
                          <td class="text-center">{{ ligne.quantite }}</td>
                          <td class="text-center">{{ ligne.produitDto.prixAchat }}</td>
                          <td class="text-center">{{ ligne.produitDto.prixAchat*ligne.quantite }}</td>
                          <td class="text-center">
                              <a class="btn" (click)="modifyLigneFacture(ligne)">
                                  <i class="fa fa-edit  text-secondary"></i>
                              </a>
                              <a class="btn" (click)="deleteLigneFacture(ligne)">
                                  <i class="fa fa-trash  text-danger"></i>
                              </a>
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
          <div class="col-4">

              <h5 class="card-header text-center p-2">Produit selectionner</h5>
              <ul class="list-group">
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                      Libelle :
                      <span class="">{{ ligneFactureDto.produitDto.nom }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                      Prix unitaire :
                      <span class="">{{
                          (ligneFactureDto.produitDto.prixAchat==0)?'':(ligneFactureDto.produitDto.prixAchat) }}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                      Quantite en stock :
                      <span class="">{{
                          (ligneFactureDto.quantite==0)?'':(ligneFactureDto.quantite)
                          }}</span>
                  </li>
              </ul>
              <div class="form-group">
                  <label for="quantite">Quantite</label>
                  <input type="number" min="1" class="form-control" id="quantite" [(ngModel)]="ligneFactureDto.quantite"
                      formControlName="quantite">
                  <app-field-error-display [displayError]="isFieldValid('quantite')"
                      errorMsg="Veuillez renseigner la quantite du produit">
                  </app-field-error-display>
              </div>
              <div class="d-flex justify-content-center mt-3">
                  <button type="submit" class="btn btn-primary col-4 mx-auto" [disabled]="!formLigneFacture.valid">
                      <i class="fa fa-plus"></i>
                      Ajouter
                  </button>
              </div>
          </div>
          <div class="text-center {{style}}" *ngIf="message">{{message}}</div>
      </div>
  </form>
  <hr>
  <div class="mt-2">
      <table class="table mt-2 except" #content>
          <thead>
              <tr>
                  <th>#</th>
                  <th>Libelle</th>
                  <th>Description</th>
                  <th>Qte</th>
                  <th>P.Vente</th>
                  <th>Actions</th>
              </tr>
          </thead>


 -->
